[package]
name = "evento"
version = "1.0.0-alpha.11"
edition = "2021"
license = "Apache-2.0"
publish = true
description = "A collection of libraries and tools that help you build DDD, CQRS, and event sourcing."
repository = "https://github.com/timayz/evento"
documentation = "https://docs.rs/evento"

[dependencies]
serde = { version = "1.0", features = ["derive"] }
ulid = { version = "1.2", features = ["serde"] }
tokio = { version = "1.45", features = ["full"] }
tokio-stream = { version = "0.1", optional = true }
evento-macro = { path = "../evento-macro", optional = true, version = "1.0.0-alpha.11" }
anyhow = "1.0"
ciborium = "0.2"
sqlx = { version = "0.8", optional = true }
thiserror = "2.0"
async-trait = "0.1"
tracing = "0.1"
base64 = "0.22"
sea-query = { version = "1.0.0-rc.1", default-features = false, features = ["derive", "audit"], optional = true }
sea-query-binder = { version = "0.8.0-rc.1", features = ["runtime-tokio"], optional = true }
futures-util = { version = "0.3", optional = true }
backon = { version = "1.5", optional = true }

[dev-dependencies]
sqlx = { version = "0.8", features = ["runtime-tokio", "any"] }
rand = "0.9.2"

[features]
default = ["macro", "handler"]
macro = ["evento-macro"]
stream = ["futures-util", "tokio-stream"]
handler = ["backon"]
sqlite = ["sea-query/backend-sqlite", "sea-query-binder/sqlx-sqlite", "sqlx/sqlite"]
mysql = ["sea-query/backend-mysql", "sea-query-binder/sqlx-mysql", "sqlx/mysql"]
postgres = ["sea-query/backend-postgres", "sea-query-binder/sqlx-postgres", "sqlx/postgres"]
