<div up-sse-item="{{ edge.node.id }}" class="card card-side bg-base-100 shadow-xl image-full h-96">
    <figure>
        {% match edge.node.thumbnail %}
        {% when Some with (thumbnail) %}
        <img height="320" width="320" src="{{ thumbnail }}" alt="Product" loading="lazy" />
        {% when None %}
        <img src="https://source.unsplash.com/random/320x230" alt="Product" loading="lazy" />
        {% endmatch %}
    </figure>
    <div class="card-body">
        <h2 class="card-title">{{ edge.node.name|e }}{% if edge.node.out_of_stock() %} Out of stock{% endif %}</h2>
        <p>
            {% if let Some(description) = edge.node.description %}
            {{ description }}
            {% endif %}
        </p>
        <div class="card-actions justify-end">
            <a href="/details?id={{ edge.node.id }}" class="btn" up-layer="new drawer" up-position="right"
                up-accept-location="/">
                View
            </a>
            <a href="/cart/add?id={{ edge.node.id }}" class="btn btn-secondary" up-layer="new drawer"
                up-position="right" up-accept-location="/">
                Add to cart
            </a>
        </div>
    </div>
</div>