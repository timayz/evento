{% extends "_base.html" %}

{% block content %}
<div class="container mx-auto">
  <div class="grid grid-cols-2 gap-4">
    {% for edge in data.edges %}
    <div class="card card-side bg-base-100 shadow-xl">
      <figure>
        <img src="https://source.unsplash.com/random/320x230" alt="Product" loading="lazy" />
      </figure>
      <div class="card-body">
        <h2 class="card-title">{{ edge.node.name|e }}</h2>
        <p>
          {% match edge.node.description %}
          {% when Some with (val) %}
          {{ val }}
          {% when None %}
          {% endmatch %}
        </p>
        <div class="card-actions justify-end">
          <a href="/details?id={{ edge.node.id }}" class="btn" up-layer="new drawer" up-position="right" up-accept-location="/">
            View
          </a>
          <a href="/edit?id={{ edge.node.id }}" class="btn btn-secondary" up-layer="new drawer" up-position="right" up-accept-location="/">
            Edit
          </a>
          <a href="/delete?id={{ edge.node.id }}" class="btn btn-error" up-layer="new drawer" up-position="right" up-accept-location="/">
            Delete
          </a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}